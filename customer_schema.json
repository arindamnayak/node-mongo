{
  bsonType: "object",
  required: ["name", "email", "age"],
  additionalProperties: false,
  properties:
    {
      _id: {},
      name: {
        bsonType: "string",
        description: "'name' is required and is a string"
      },
      email: {
        bsonType: "string",
        description: "'email' is required and is a string"
      },
      age: {
        bsonType: "int",
        description: "'age' is required and is a int"
      },
      address: 
      {
        bsonType: ["array"],
        minItems: 1,
        maxItems: 50,
        items: {
          bsonType: ["object"],     
          required: ["flatno", "city", "state"],
          additionalProperties: false,
          description: "'address' must contain the stated fields.",
          properties: 
          {
            flatno: {
              bsonType: "string",
              description: "'flatno' is required and is of string type"
                    },
            city: {
              enum: ["pnq", "hyd", "blr", "del", "mum", "kol"],
              description: "'city' is required and can only be one of the given enum values"
                    },
            state: {
              enum: ["MH", "KA", "TN", "DL", "KL"],
              description: "'state' is required and is a string"
                  }
          }
      }
   }
  }
}